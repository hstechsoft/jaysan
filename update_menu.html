<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Converted Sidebar (Hover Flyout)</title>

    <!-- Bootstrap & Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet" />

    <style>
        :root {
            --sidebar-collapsed-w: 78px;
            --sidebar-expanded-w: 270px;
        }

        html,
        body {
            height: 100%;
        }

        body {
            margin: 0;
            font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
            background: #eef2f6;
        }

        /* Sidebar container */
        .sidebar {
            position: fixed;
            left: 0;
            top: 0;
            width: var(--sidebar-collapsed-w);
            height: 100vh;
            background: #fff;
            border-right: 1px solid #eee;
            display: flex;
            flex-direction: column;
            transition: width .28s ease;
            padding-top: 18px;
            z-index: 1000;
        }

        /* expanded state (via toggle click) */
        .sidebar.expanded {
            width: var(--sidebar-expanded-w);
        }

        /* expand on hover when not explicitly expanded */
        .sidebar:not(.expanded):hover {
            width: var(--sidebar-expanded-w);
        }

        /* top brand */
        .brand {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 0 16px;
            font-weight: 700;
            color: #1777ff;
            font-size: 18px;
        }

        .logo {
            font-size: 26px;
        }

        /* menu layout */
        .nav-list {
            display: flex;
            flex-direction: column;
            gap: 4px;
            padding: 12px 8px;
            overflow: auto;
        }

        .menu-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 12px;
            border-radius: 8px;
            cursor: pointer;
            color: #333;
            transition: background .18s;
            position: relative;
            /* anchor for wrappers */
            white-space: nowrap;
        }

        .menu-item i {
            font-size: 20px;
            color: #1777ff;
            width: 20px;
            text-align: center;
        }

        .menu-item:hover {
            background: #eaf3ff;
        }

        .menu-text {
            opacity: 0;
            width: 0;
            overflow: hidden;
            transition: opacity .18s, width .18s;
        }

        /* show text when expanded (either via hover or .expanded) */
        .sidebar.expanded .menu-text,
        .sidebar:not(.expanded):hover .menu-text {
            opacity: 1;
            width: auto;
        }

        /* make icons centered when collapsed */
        .sidebar:not(.expanded) .menu-item {
            justify-content: center;
            padding-left: 0;
            padding-right: 0;
        }

        .sidebar:not(.expanded) .menu-item i {
            margin: 0;
        }

        .sidebar:not(.expanded) .menu-item .menu-text {
            display: inline-block;
            margin-left: 8px;
        }

        /* keep menu scroller from under the toggle button */
        .menu-spacer {
            flex: 1 1 auto;
        }

        /* wrappers for flyouts */
        .menu-wrapper,
        .sub-wrapper {
            position: relative;
        }

        /* Flyout (first-level) when sidebar is collapsed */
        .flyout {
            position: absolute;
            left: var(--sidebar-collapsed-w);
            top: 0;
            min-width: 220px;
            background: #fff;
            border-radius: 6px;
            box-shadow: 0 6px 18px rgba(0, 0, 0, 0.08);
            z-index: 1100;
            display: none;
            padding: 8px;
        }

        /* show flyout on hover when collapsed */
        .sidebar:not(.expanded) .menu-item:hover+.flyout,
        .sidebar:not(.expanded) .flyout:hover {
            display: block;
        }

        /* For expanded sidebar we use Bootstrap collapse; ensure flyout not visible */
        .sidebar.expanded .flyout {
            display: none !important;
        }

        /* style submenu items inside flyout / collapse */
        .flyout .submenu-item,
        .collapse.submenu .submenu-item {
            padding: 8px 10px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
        }

        .flyout .submenu-item:hover,
        .collapse.submenu .submenu-item:hover {
            background: #f1f7ff;
        }

        /* Sub-sub flyout (second-level) should appear to right of first flyout */
        .sub-flyout {
            position: absolute;
            left: 200px;
            /* distance to show to right */
            top: 0;
            min-width: 200px;
            background: #fff;
            border-radius: 6px;
            box-shadow: 0 6px 18px rgba(0, 0, 0, 0.08);
            z-index: 1150;
            display: none;
            padding: 8px;
        }

        /* show sub-flyout when hovering second-level item in collapsed mode */
        .sidebar:not(.expanded) .flyout .submenu-item:hover+.sub-flyout,
        .sidebar:not(.expanded) .sub-flyout:hover {
            display: block;
        }

        /* ensure the submenu (bootstrap collapse) inside expanded sidebar is indented */
        .collapse.submenu {
            padding-left: 20px;
        }

        /* arrows rotate */
        .arrow {
            margin-left: auto;
            transition: transform .25s;
        }

        .arrow.rotate {
            transform: rotate(90deg);
        }

        /* Toggle button */
        .toggle-btn {
            position: absolute;
            top: 20px;
            left: var(--sidebar-collapsed-w);
            transform: translateX(-50%);
            z-index: 1300;
            transition: left .28s;
        }

        /* move toggle when expanded */
        .sidebar.expanded~.toggle-btn,
        .sidebar:not(.expanded):hover~.toggle-btn {
            left: var(--sidebar-expanded-w);
        }

        .toggle-btn .btn {
            border-radius: 8px;
        }

        /* logout pinned at bottom */
        .logout-wrapper {
            margin-top: auto;
            padding: 10px;
        }

        /* small screens: hide sidebar and show top nav fallback */
        @media (max-width: 800px) {
            .sidebar {
                display: none;
            }

            .toggle-btn {
                display: none;
            }

            /* you would keep your existing navbar for small screens */
        }
    </style>
</head>

<body>

    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar" aria-label="Main sidebar">

        <!-- Brand -->
        <div class="brand px-2 mb-2">
            <i class="bi bi-lightning-fill logo"></i>
            <span class="menu-text">Welcome</span>
        </div>

        <!-- Menu list -->
        <nav class="nav-list" role="navigation">

            <!-- Admin -->
            <div class="menu-wrapper">
                <a id="admin_index1" class="menu-item visually-hidden" href="">
                    <i class="bi bi-house-fill"></i><span class="menu-text">Hidden</span>
                </a>

                <a id="admin_index" class="menu-item" href="admin_index.html">
                    <i class="bi bi-people-fill"></i><span class="menu-text">Admin</span>
                </a>
            </div>

            <!-- Master (has many children) -->
            <div class="menu-wrapper">
                <div class="menu-item" role="button" data-bs-toggle="collapse" data-bs-target="#masterMenu"
                    aria-expanded="false" aria-controls="masterMenu">
                    <i class="bi bi-folder-fill"></i><span class="menu-text">Master</span>
                    <i class="bi bi-chevron-right arrow"></i>
                </div>

                <!-- Flyout for collapsed state -->
                <div class="flyout">
                    <a id="add_company_master" class="submenu-item" href="add_company_master.html"><i
                            class="bi bi-building me-1"></i> Add Company</a>
                    <a id="add_work_master" class="submenu-item" href="add_work_master.html"><i
                            class="bi bi-kanban me-1"></i> Work-master</a>

                    <!-- Employee group inside flyout - has its own sub-flyout -->
                    <div class="sub-wrapper">
                        <div class="submenu-item" role="button" data-bs-toggle="collapse" data-bs-target="#fly_emp"
                            aria-expanded="false">
                            <i class="bi bi-person-lines-fill me-1"></i> Employee
                            <i class="bi bi-chevron-right arrow"></i>
                        </div>

                        <div class="sub-flyout">
                            <a id="employee" class="d-block mb-1" href="employee.html">Modify</a>
                            <a id="role" class="d-block mb-1" href="role.html">Role</a>
                            <a id="organization" class="d-block mb-1" href="organization.html">Organization</a>
                            <a id="att_approval_chart" class="d-block" href="att_approval_chart.html">Attendance
                                Rule</a>
                        </div>
                    </div>

                    <a id="product_entry" class="submenu-item" href="product_entry.html"><i
                            class="bi bi-box-seam me-1"></i> Add Product</a>
                    <a id="products" class="submenu-item" href="products.html"><i class="bi bi-card-list me-1"></i>
                        Product List</a>
                    <a id="add_reminder_master" class="submenu-item" href="add_reminder_master.html"><i
                            class="bi bi-bell me-1"></i> Add Reminder</a>
                    <a id="admin_upload" class="submenu-item" href="admin_upload.html"><i
                            class="bi bi-cloud-upload me-1"></i> Upload</a>
                </div>

                <!-- Collapse panel for expanded sidebar -->
                <div class="collapse" id="masterMenu">
                    <a id="add_company_master" class="list-group-item list-group-item-action"
                        href="add_company_master.html">Add Company</a>
                    <a id="add_work_master" class="list-group-item list-group-item-action"
                        href="add_work_master.html">Work-master</a>

                    <div class="sub-wrapper">
                        <div class="submenu-item d-flex align-items-center" data-bs-toggle="collapse"
                            data-bs-target="#empMenu" aria-expanded="false">
                            <i class="bi bi-person-lines-fill me-2"></i><span>Employee</span>
                            <i class="bi bi-chevron-right arrow ms-auto"></i>
                        </div>
                        <div class="collapse submenu" id="empMenu">
                            <a id="employee" class="submenu-item" href="employee.html">Modify</a>
                            <a id="role" class="submenu-item" href="role.html">Role</a>
                            <a id="organization" class="submenu-item" href="organization.html">Organization</a>
                            <a id="att_approval_chart" class="submenu-item" href="att_approval_chart.html">Attendance
                                Rule</a>
                        </div>
                    </div>

                    <a id="product_entry" class="list-group-item list-group-item-action" href="product_entry.html">Add
                        Product</a>
                    <a id="products" class="list-group-item list-group-item-action" href="products.html">Product
                        List</a>
                    <a id="add_reminder_master" class="list-group-item list-group-item-action"
                        href="add_reminder_master.html">Add Reminder</a>
                    <a id="admin_upload" class="list-group-item list-group-item-action"
                        href="admin_upload.html">Upload</a>
                </div>
            </div>

            <!-- Report -->
            <div class="menu-wrapper">
                <div class="menu-item" role="button" data-bs-toggle="collapse" data-bs-target="#reportMenu"
                    aria-expanded="false" aria-controls="reportMenu">
                    <i class="bi bi-bar-chart-line-fill"></i><span class="menu-text">Report</span>
                    <i class="bi bi-chevron-right arrow"></i>
                </div>

                <div class="flyout">
                    <a id="emp_single_detail" class="submenu-item" href="emp_single_detail.html">User Report</a>
                    <a id="admin_employee_report" class="submenu-item" href="admin_employee_report.html">Detailed
                        Report</a>
                    <a id="admin_employee_report_self" class="submenu-item"
                        href="admin_employee_report_self.html">Detailed Report Self</a>
                    <a id="attendance_report" class="submenu-item" href="attendance_report.html">Attendance report</a>
                    <a id="work_summary_report" class="submenu-item" href="work_summary_report.html">Summary report</a>
                    <a id="work_summary_report_self" class="submenu-item" href="work_summary_report_self.html">Summary
                        report Self</a>
                    <a id="work_search" class="submenu-item" href="work_search.html">Work Report</a>
                    <a id="work_search_self" class="submenu-item" href="work_search_self.html">Work Report Self</a>
                    <a id="site_visit_report" class="submenu-item" href="site_visit_report.html">Site Survey Report</a>

                    <!-- Accounts group -->
                    <div class="sub-wrapper">
                        <div class="submenu-item">Accounts <i class="bi bi-chevron-right arrow ms-auto"></i></div>
                        <div class="sub-flyout">
                            <a id="invoice_list" class="d-block mb-1" href="invoice_list.html">Sales Report</a>
                            <a id="quotation_list" class="d-block mb-1" href="quotation_list.html">Quotation Report</a>
                            <a id="estimation_list" class="d-block mb-1" href="estimation_list.html">Estimation
                                Report</a>
                            <a id="service_report" class="d-block mb-1" href="service_report.html">Service Report</a>
                            <a id="Restamping_report" class="d-block mb-1" href="Restamping_report.html">Restamping
                                Report</a>
                            <a id="payment_report" class="d-block" href="payment_report.html">Payment Report</a>
                        </div>
                    </div>

                    <a id="Reminder_report" class="submenu-item" href="Reminder_report.html">Reminder</a>

                    <div class="sub-wrapper">
                        <div class="submenu-item">Lead report <i class="bi bi-chevron-right arrow ms-auto"></i></div>
                        <div class="sub-flyout">
                            <a id="lead_report" class="d-block mb-1" href="lead_report.html">Detailed</a>
                            <a id="lead_report_summary" class="d-block mb-1" href="lead_report_summary.html">Summary</a>
                        </div>
                    </div>

                    <a id="emp_report" class="submenu-item" href="emp_report.html">Report</a>
                </div>

                <div class="collapse" id="reportMenu">
                    <a id="emp_single_detail" class="list-group-item list-group-item-action"
                        href="emp_single_detail.html">User Report</a>
                    <a id="admin_employee_report" class="list-group-item list-group-item-action"
                        href="admin_employee_report.html">Detailed Report</a>
                    <a id="admin_employee_report_self" class="list-group-item list-group-item-action"
                        href="admin_employee_report_self.html">Detailed Report Self</a>
                    <a id="attendance_report" class="list-group-item list-group-item-action"
                        href="attendance_report.html">Attendance report</a>
                    <a id="work_summary_report" class="list-group-item list-group-item-action"
                        href="work_summary_report.html">Summary report</a>
                    <a id="work_summary_report_self" class="list-group-item list-group-item-action"
                        href="work_summary_report_self.html">Summary report Self</a>
                    <a id="work_search" class="list-group-item list-group-item-action" href="work_search.html">Work
                        Report</a>
                    <a id="work_search_self" class="list-group-item list-group-item-action"
                        href="work_search_self.html">Work Report Self</a>
                    <a id="site_visit_report" class="list-group-item list-group-item-action"
                        href="site_visit_report.html">Site Survey Report</a>

                    <div class="sub-wrapper">
                        <div class="submenu-item d-flex align-items-center" data-bs-toggle="collapse"
                            data-bs-target="#accountsMenu">
                            <i class="bi bi-wallet2 me-2"></i><span>Accounts</span>
                            <i class="bi bi-chevron-right arrow ms-auto"></i>
                        </div>
                        <div class="collapse sub-submenu" id="accountsMenu">
                            <a id="invoice_list" class="submenu-item" href="invoice_list.html">Sales Report</a>
                            <a id="quotation_list" class="submenu-item" href="quotation_list.html">Quotation Report</a>
                            <a id="estimation_list" class="submenu-item" href="estimation_list.html">Estimation
                                Report</a>
                            <a id="service_report" class="submenu-item" href="service_report.html">Service Report</a>
                            <a id="Restamping_report" class="submenu-item" href="Restamping_report.html">Restamping
                                Report</a>
                            <a id="payment_report" class="submenu-item" href="payment_report.html">Payment Report</a>
                        </div>
                    </div>

                    <a id="Reminder_report" class="list-group-item list-group-item-action"
                        href="Reminder_report.html">Reminder</a>

                    <div class="sub-wrapper">
                        <div class="submenu-item d-flex align-items-center" data-bs-toggle="collapse"
                            data-bs-target="#leadMenu">
                            <i class="bi bi-people me-2"></i><span>Lead report</span>
                            <i class="bi bi-chevron-right arrow ms-auto"></i>
                        </div>
                        <div class="collapse sub-submenu" id="leadMenu">
                            <a id="lead_report" class="submenu-item" href="lead_report.html">Detailed</a>
                            <a id="lead_report_summary" class="submenu-item" href="lead_report_summary.html">Summary</a>
                        </div>
                    </div>

                    <a id="emp_report" class="list-group-item list-group-item-action" href="emp_report.html">Report</a>
                </div>
            </div>

            <!-- Task -->
            <div class="menu-wrapper">
                <div class="menu-item" role="button" data-bs-toggle="collapse" data-bs-target="#taskMenu">
                    <i class="bi bi-list-task"></i><span class="menu-text">Task</span>
                    <i class="bi bi-chevron-right arrow"></i>
                </div>
                <div class="flyout">
                    <a id="user_call" class="submenu-item" href="user_call.html">Dashboard</a>
                    <a id="create_work" class="submenu-item" href="create_work.html">Add New</a>
                    <a id="task_list" class="submenu-item" href="task_list.html">Work list</a>
                    <a id="assigned_work" class="submenu-item" href="assigned_work.html">Assigned Work</a>
                </div>
                <div class="collapse" id="taskMenu">
                    <a id="user_call" class="list-group-item list-group-item-action" href="user_call.html">Dashboard</a>
                    <a id="create_work" class="list-group-item list-group-item-action" href="create_work.html">Add
                        New</a>
                    <a id="task_list" class="list-group-item list-group-item-action" href="task_list.html">Work list</a>
                    <a id="assigned_work" class="list-group-item list-group-item-action"
                        href="assigned_work.html">Assigned Work</a>
                </div>
            </div>

            <!-- Customer -->
            <div class="menu-wrapper">
                <div class="menu-item" role="button" data-bs-toggle="collapse" data-bs-target="#customerMenu">
                    <i class="bi bi-people-fill"></i><span class="menu-text">Customer</span>
                    <i class="bi bi-chevron-right arrow"></i>
                </div>
                <div class="flyout">
                    <a id="create_customer" class="submenu-item" href="create_customer.html">Add New</a>
                    <a id="customer_list" class="submenu-item" href="customer_list.html">List</a>
                </div>
                <div class="collapse" id="customerMenu">
                    <a id="create_customer" class="list-group-item list-group-item-action"
                        href="create_customer.html">Add New</a>
                    <a id="customer_list" class="list-group-item list-group-item-action"
                        href="customer_list.html">List</a>
                </div>
            </div>

            <!-- Leads -->
            <div class="menu-wrapper">
                <div class="menu-item" role="button" data-bs-toggle="collapse" data-bs-target="#leadsMenu">
                    <i class="bi bi-megaphone-fill"></i><span class="menu-text">Leads</span>
                    <i class="bi bi-chevron-right arrow"></i>
                </div>
                <div class="flyout">
                    <a id="lead_list" class="submenu-item" href="lead_list.html">marketing Leads</a>
                    <a id="lead_list_web" class="submenu-item" href="lead_list_web.html">Web Leads</a>
                </div>
                <div class="collapse" id="leadsMenu">
                    <a id="lead_list" class="list-group-item list-group-item-action" href="lead_list.html">marketing
                        Leads</a>
                    <a id="lead_list_web" class="list-group-item list-group-item-action" href="lead_list_web.html">Web
                        Leads</a>
                </div>
            </div>

            <!-- Dashboard / Pending / Payslip -->
            <a id="dashboard" class="menu-item" href="dashboard.html"><i class="bi bi-calendar-check-fill"></i><span
                    class="menu-text">Today Work</span></a>
            <a id="pending_work" class="menu-item" href="pending_work.html"><i class="bi bi-clock-fill"></i><span
                    class="menu-text">Pending Works</span></a>
            <a id="payslip_upload" class="menu-item" href="payslip_upload.html"><i
                    class="bi bi-file-earmark-person-fill"></i><span class="menu-text">Payslip Upload</span></a>

            <!-- Expenses -->
            <div class="menu-wrapper">
                <div class="menu-item" role="button" data-bs-toggle="collapse" data-bs-target="#expensesMenu">
                    <i class="bi bi-receipt-cutoff"></i><span class="menu-text">Expenses</span>
                    <i class="bi bi-chevron-right arrow"></i>
                </div>
                <div class="flyout">
                    <a id="emp_expense_single" class="submenu-item" href="emp_expense_single.html">Expense Entry</a>
                    <a id="admin_expense" class="submenu-item" href="admin_expense.html">Expense List</a>
                    <a id="admin_expense_single" class="submenu-item" href="admin_expense_single.html">Approve
                        Expense</a>
                    <a id="exp_report_single" class="submenu-item" href="exp_report_single.html">View Expense</a>
                    <a id="exp_report" class="submenu-item" href="exp_report.html">Expense Report</a>
                </div>
                <div class="collapse" id="expensesMenu">
                    <a id="emp_expense_single" class="list-group-item list-group-item-action"
                        href="emp_expense_single.html">Expense Entry</a>
                    <a id="admin_expense" class="list-group-item list-group-item-action"
                        href="admin_expense.html">Expense List</a>
                    <a id="admin_expense_single" class="list-group-item list-group-item-action"
                        href="admin_expense_single.html">Approve Expense</a>
                    <a id="exp_report_single" class="list-group-item list-group-item-action"
                        href="exp_report_single.html">View Expense</a>
                    <a id="exp_report" class="list-group-item list-group-item-action" href="exp_report.html">Expense
                        Report</a>
                </div>
            </div>

            <!-- Dealer -->
            <div class="menu-wrapper">
                <div class="menu-item" role="button" data-bs-toggle="collapse" data-bs-target="#dealerMenu">
                    <i class="bi bi-shop-window"></i><span class="menu-text">Dealer</span>
                    <i class="bi bi-chevron-right arrow"></i>
                </div>
                <div class="flyout">
                    <a id="create_dealer" class="submenu-item" href="create_dealer.html">Dealer Entry</a>
                    <a id="create_warranty_terms" class="submenu-item" href="create_warranty_terms.html">Create Warranty
                        Terms</a>
                    <a id="check_warranty" class="submenu-item" href="check_warranty.html">Dealer Report</a>
                    <a id="service_requset" class="submenu-item" href="service_requset.html">Service Request</a>
                    <a id="extended_warranty" class="submenu-item" href="extended_warranty.html">Extended Warranty
                        Request</a>
                    <a id="service_feedback" class="submenu-item" href="service_feedback.html">Service Feedback</a>
                </div>
                <div class="collapse" id="dealerMenu">
                    <a id="create_dealer" class="list-group-item list-group-item-action"
                        href="create_dealer.html">Dealer Entry</a>
                    <a id="create_warranty_terms" class="list-group-item list-group-item-action"
                        href="create_warranty_terms.html">Create Warranty Terms</a>
                    <a id="check_warranty" class="list-group-item list-group-item-action"
                        href="check_warranty.html">Dealer Report</a>
                    <a id="service_requset" class="list-group-item list-group-item-action"
                        href="service_requset.html">Service Request</a>
                    <a id="extended_warranty" class="list-group-item list-group-item-action"
                        href="extended_warranty.html">Extended Warranty Request</a>
                    <a id="service_feedback" class="list-group-item list-group-item-action"
                        href="service_feedback.html">Service Feedback</a>
                </div>
            </div>

            <!-- Parts -->
            <div class="menu-wrapper">
                <div class="menu-item" role="button" data-bs-toggle="collapse" data-bs-target="#partsMenu">
                    <i class="bi bi-gear-fill"></i><span class="menu-text">Parts</span>
                    <i class="bi bi-chevron-right arrow"></i>
                </div>
                <div class="flyout">
                    <a id="unassigned_parts" class="submenu-item" href="unassigned_parts.html">Unassigned Parts</a>
                    <a id="add_process" class="submenu-item" href="add_process.html">Add Process</a>
                    <a id="bom_entry" class="submenu-item" href="bom_entry.html">Add BOM</a>
                    <a id="welding_process" class="submenu-item" href="welding_process.html">Add Process BOM</a>
                    <a id="machine_entry" class="submenu-item" href="machine_entry.html">Process Time Entry</a>
                    <a id="work_entry" class="submenu-item" href="work_entry.html">Work Entry</a>
                    <a id="sub_assembly_bom_entry" class="submenu-item" href="sub_assembly_bom_entry.html">Sub BOM</a>
                </div>
                <div class="collapse" id="partsMenu">
                    <a id="unassigned_parts" class="list-group-item list-group-item-action"
                        href="unassigned_parts.html">Unassigned Parts</a>
                    <a id="add_process" class="list-group-item list-group-item-action" href="add_process.html">Add
                        Process</a>
                    <a id="bom_entry" class="list-group-item list-group-item-action" href="bom_entry.html">Add BOM</a>
                    <a id="welding_process" class="list-group-item list-group-item-action"
                        href="welding_process.html">Add Process BOM</a>
                    <a id="machine_entry" class="list-group-item list-group-item-action"
                        href="machine_entry.html">Process Time Entry</a>
                    <a id="work_entry" class="list-group-item list-group-item-action" href="work_entry.html">Work
                        Entry</a>
                    <a id="sub_assembly_bom_entry" class="list-group-item list-group-item-action"
                        href="sub_assembly_bom_entry.html">Sub BOM</a>
                </div>
            </div>

            <!-- Quotation -->
            <div class="menu-wrapper">
                <div class="menu-item" role="button" data-bs-toggle="collapse" data-bs-target="#quotationMenu">
                    <i class="bi bi-file-text-fill"></i><span class="menu-text">Quotation</span>
                    <i class="bi bi-chevron-right arrow"></i>
                </div>
                <div class="flyout">
                    <a id="quotation_enquiry" class="submenu-item" href="quotation_enquiry.html">Quotation Enquiry</a>
                    <a id="quotation_enquiry_master" class="submenu-item" href="quotation_enquiry_master.html">Quotation
                        Master</a>
                </div>
                <div class="collapse" id="quotationMenu">
                    <a id="quotation_enquiry" class="list-group-item list-group-item-action"
                        href="quotation_enquiry.html">Quotation Enquiry</a>
                    <a id="quotation_enquiry_master" class="list-group-item list-group-item-action"
                        href="quotation_enquiry_master.html">Quotation Master</a>
                </div>
            </div>

            <!-- Sales Order -->
            <div class="menu-wrapper">
                <div class="menu-item" role="button" data-bs-toggle="collapse" data-bs-target="#salesOrderMenu">
                    <i class="bi bi-cart-fill"></i><span class="menu-text">Sales Order</span>
                    <i class="bi bi-chevron-right arrow"></i>
                </div>
                <div class="flyout">
                    <a id="sales_order_form" class="submenu-item" href="sales_order_form.html">Sales Order Form</a>
                    <a id="dcf_report_all" class="submenu-item" href="dcf_report_all.html">DCF Report</a>
                    <a id="dcf_invoice" class="submenu-item" href="dcf_invoice.html">DCF Invoice</a>
                    <a id="sales_order_report" class="submenu-item" href="sales_order_report.html">Sales Order
                        Report</a>
                    <a id="sales_order_approval" class="submenu-item" href="sales_order_approval.html">Machine
                        Production</a>
                </div>
                <div class="collapse" id="salesOrderMenu">
                    <a id="sales_order_form" class="list-group-item list-group-item-action"
                        href="sales_order_form.html">Sales Order Form</a>
                    <a id="dcf_report_all" class="list-group-item list-group-item-action" href="dcf_report_all.html">DCF
                        Report</a>
                    <a id="dcf_invoice" class="list-group-item list-group-item-action" href="dcf_invoice.html">DCF
                        Invoice</a>
                    <a id="sales_order_report" class="list-group-item list-group-item-action"
                        href="sales_order_report.html">Sales Order Report</a>
                    <a id="sales_order_approval" class="list-group-item list-group-item-action"
                        href="sales_order_approval.html">Machine Production</a>
                </div>
            </div>

            <!-- MRF -->
            <div class="menu-wrapper">
                <div class="menu-item" role="button" data-bs-toggle="collapse" data-bs-target="#mrfMenu">
                    <i class="bi bi-file-earmark-medical-fill"></i><span class="menu-text">MRF</span>
                    <i class="bi bi-chevron-right arrow"></i>
                </div>
                <div class="flyout">
                    <a id="material_request_form" class="submenu-item" href="material_request_form.html">Material
                        Request Form</a>
                    <a id="material_request_form_tally" class="submenu-item" href="material_request_form_tally.html">MRF
                        Tally</a>
                    <a id="material_request_form_purchase" class="submenu-item"
                        href="material_request_form_purchase.html">MRF Purchase</a>
                    <a id="material_request_form_md" class="submenu-item" href="material_request_form_md.html">MRF
                        MD</a>
                </div>
                <div class="collapse" id="mrfMenu">
                    <a id="material_request_form" class="list-group-item list-group-item-action"
                        href="material_request_form.html">Material Request Form</a>
                    <a id="material_request_form_tally" class="list-group-item list-group-item-action"
                        href="material_request_form_tally.html">MRF Tally</a>
                    <a id="material_request_form_purchase" class="list-group-item list-group-item-action"
                        href="material_request_form_purchase.html">MRF Purchase</a>
                    <a id="material_request_form_md" class="list-group-item list-group-item-action"
                        href="material_request_form_md.html">MRF MD</a>
                </div>
            </div>

            <!-- End of nav items -->
            <div class="menu-spacer"></div>

            <!-- Logout at bottom -->
            <div class="logout-wrapper">
                <a id="topbar_logout_btn" class="menu-item" href="#" role="button">
                    <i class="bi bi-box-arrow-right" style="color:#d9534f;"></i><span class="menu-text">Logout</span>
                </a>
            </div>

        </nav>
    </aside>

    <!-- Toggle button -->
    <div class="toggle-btn">
        <button id="sidebarToggle" class="btn btn-primary btn-sm"><i class="bi bi-list"></i></button>
    </div>

    <!-- Page content placeholder -->
    <main style="margin-left: var(--sidebar-collapsed-w); transition: margin-left .28s;">
        <div class="container-fluid py-3">
            <h4>Page content</h4>
            <p>Replace this area with your page content - sidebar preserves all IDs & hrefs from the old navbar.</p>
        </div>
    </main>

    <!-- Bootstrap script -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // Toggle button toggles persistent expanded class
        const sidebar = document.getElementById('sidebar');
        const toggleBtn = document.getElementById('sidebarToggle');

        toggleBtn.addEventListener('click', () => {
            sidebar.classList.toggle('expanded');

            // rotate arrows on persistent expand/close for opened collapses
            document.querySelectorAll('.menu-item[aria-expanded]').forEach(mi => {
                const arrow = mi.querySelector('.arrow');
                if (arrow) arrow.classList.toggle('rotate', sidebar.classList.contains('expanded'));
            });

            // adjust main content margin (optional)
            document.querySelector('main').style.marginLeft = sidebar.classList.contains('expanded') ? 'var(--sidebar-expanded-w)' : 'var(--sidebar-collapsed-w)';
        });

        // rotate the arrow when collapse toggles (Bootstrap collapse)
        document.querySelectorAll('[data-bs-toggle="collapse"]').forEach(btn => {
            btn.addEventListener('click', () => {
                const arrow = btn.querySelector('.arrow');
                if (arrow) arrow.classList.toggle('rotate');
            });
        });

        // Ensure main content margin follows hover expansion (CSS handles most of it).
        // But we'll also update margin on mouseenter/mouseleave for smooth layout effect:
        sidebar.addEventListener('mouseenter', () => {
            if (!sidebar.classList.contains('expanded')) {
                document.querySelector('main').style.marginLeft = 'var(--sidebar-expanded-w)';
            }
        });
        sidebar.addEventListener('mouseleave', () => {
            if (!sidebar.classList.contains('expanded')) {
                document.querySelector('main').style.marginLeft = 'var(--sidebar-collapsed-w)';
            }
        });

        // Optional: keep collapse panels closed when sidebar is collapsed to avoid weird visual
        // (When expanding persistently, user can click to open collapse items).
    </script>
</body>

</html>